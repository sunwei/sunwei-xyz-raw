import{b as ve,u as f,D as Ie,B as Vt}from"./luxon.BBr4EXs1.js";/*! @license DOMPurify 3.1.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.4/LICENSE */const{entries:St,setPrototypeOf:ut,isFrozen:qt,getPrototypeOf:Kt,getOwnPropertyDescriptor:Zt}=Object;let{freeze:b,seal:y,create:bt}=Object,{apply:Me,construct:Ce}=typeof Reflect<"u"&&Reflect;b||(b=function(n){return n});y||(y=function(n){return n});Me||(Me=function(n,a,s){return n.apply(a,s)});Ce||(Ce=function(n,a){return new n(...a)});const re=R(Array.prototype.forEach),ft=R(Array.prototype.pop),K=R(Array.prototype.push),ce=R(String.prototype.toLowerCase),Re=R(String.prototype.toString),mt=R(String.prototype.match),Z=R(String.prototype.replace),Jt=R(String.prototype.indexOf),Qt=R(String.prototype.trim),O=R(Object.prototype.hasOwnProperty),S=R(RegExp.prototype.test),J=en(TypeError);function pt(i){return typeof i=="number"&&isNaN(i)}function R(i){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return Me(i,n,s)}}function en(i){return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Ce(i,a)}}function c(i,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ce;ut&&ut(i,null);let s=n.length;for(;s--;){let u=n[s];if(typeof u=="string"){const T=a(u);T!==u&&(qt(n)||(n[s]=T),u=T)}i[u]=!0}return i}function tn(i){for(let n=0;n<i.length;n++)O(i,n)||(i[n]=null);return i}function P(i){const n=bt(null);for(const[a,s]of St(i))O(i,a)&&(Array.isArray(s)?n[a]=tn(s):s&&typeof s=="object"&&s.constructor===Object?n[a]=P(s):n[a]=s);return n}function se(i,n){for(;i!==null;){const s=Zt(i,n);if(s){if(s.get)return R(s.get);if(typeof s.value=="function")return R(s.value)}i=Kt(i)}function a(){return null}return a}const dt=b(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ne=b(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ye=b(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nn=b(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),De=b(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),on=b(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_t=b(["#text"]),ht=b(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Oe=b(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Tt=b(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),le=b(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),an=y(/\{\{[\w\W]*|[\w\W]*\}\}/gm),rn=y(/<%[\w\W]*|[\w\W]*%>/gm),sn=y(/\${[\w\W]*}/gm),ln=y(/^data-[\-\w.\u00B7-\uFFFF]/),cn=y(/^aria-[\-\w]+$/),Lt=y(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),un=y(/^(?:\w+script|data):/i),fn=y(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wt=y(/^html$/i),mn=y(/^[a-z][.\w]*(-[.\w]+)+$/i);var gt=Object.freeze({__proto__:null,MUSTACHE_EXPR:an,ERB_EXPR:rn,TMPLIT_EXPR:sn,DATA_ATTR:ln,ARIA_ATTR:cn,IS_ALLOWED_URI:Lt,IS_SCRIPT_OR_DATA:un,ATTR_WHITESPACE:fn,DOCTYPE_NAME:wt,CUSTOM_ELEMENT:mn});const x={element:1,text:3,progressingInstruction:7,comment:8,document:9},pn=function(){return typeof window>"u"?null:window},dn=function(n,a){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let s=null;const u="data-tt-policy-suffix";a&&a.hasAttribute(u)&&(s=a.getAttribute(u));const T="dompurify"+(s?"#"+s:"");try{return n.createPolicy(T,{createHTML(D){return D},createScriptURL(D){return D}})}catch{return console.warn("TrustedTypes policy "+T+" could not be created."),null}};function Rt(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pn();const n=r=>Rt(r);if(n.version="3.1.4",n.removed=[],!i||!i.document||i.document.nodeType!==x.document)return n.isSupported=!1,n;let{document:a}=i;const s=a,u=s.currentScript,{DocumentFragment:T,HTMLTemplateElement:D,Node:G,Element:xe,NodeFilter:B,NamedNodeMap:Nt=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:yt,DOMParser:Dt,trustedTypes:Q}=i,ee=xe.prototype,Ot=se(ee,"cloneNode"),It=se(ee,"nextSibling"),Mt=se(ee,"childNodes"),Y=se(ee,"parentNode");if(typeof D=="function"){const r=a.createElement("template");r.content&&r.content.ownerDocument&&(a=r.content.ownerDocument)}let E,j="";const{implementation:fe,createNodeIterator:Ct,createDocumentFragment:vt,getElementsByTagName:xt}=a,{importNode:Pt}=s;let I={};n.isSupported=typeof St=="function"&&typeof Y=="function"&&fe&&fe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:me,ERB_EXPR:pe,TMPLIT_EXPR:de,DATA_ATTR:kt,ARIA_ATTR:Ut,IS_SCRIPT_OR_DATA:Ft,ATTR_WHITESPACE:Pe,CUSTOM_ELEMENT:Ht}=gt;let{IS_ALLOWED_URI:ke}=gt,p=null;const Ue=c({},[...dt,...Ne,...ye,...De,..._t]);let d=null;const Fe=c({},[...ht,...Oe,...Tt,...le]);let m=Object.seal(bt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),X=null,_e=null,He=!0,he=!0,ze=!1,We=!0,k=!1,Te=!0,v=!1,ge=!1,Ee=!1,U=!1,te=!1,ne=!1,Ge=!0,Be=!1;const zt="user-content-";let Ae=!0,$=!1,F={},H=null;const Ye=c({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let je=null;const Xe=c({},["audio","video","img","source","image","track"]);let Se=null;const $e=c({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),oe="http://www.w3.org/1998/Math/MathML",ie="http://www.w3.org/2000/svg",M="http://www.w3.org/1999/xhtml";let z=M,be=!1,Le=null;const Wt=c({},[oe,ie,M],Re);let V=null;const Gt=["application/xhtml+xml","text/html"],Bt="text/html";let _=null,W=null;const Ve=255,Yt=a.createElement("form"),qe=function(e){return e instanceof RegExp||e instanceof Function},we=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(W&&W===e)){if((!e||typeof e!="object")&&(e={}),e=P(e),V=Gt.indexOf(e.PARSER_MEDIA_TYPE)===-1?Bt:e.PARSER_MEDIA_TYPE,_=V==="application/xhtml+xml"?Re:ce,p=O(e,"ALLOWED_TAGS")?c({},e.ALLOWED_TAGS,_):Ue,d=O(e,"ALLOWED_ATTR")?c({},e.ALLOWED_ATTR,_):Fe,Le=O(e,"ALLOWED_NAMESPACES")?c({},e.ALLOWED_NAMESPACES,Re):Wt,Se=O(e,"ADD_URI_SAFE_ATTR")?c(P($e),e.ADD_URI_SAFE_ATTR,_):$e,je=O(e,"ADD_DATA_URI_TAGS")?c(P(Xe),e.ADD_DATA_URI_TAGS,_):Xe,H=O(e,"FORBID_CONTENTS")?c({},e.FORBID_CONTENTS,_):Ye,X=O(e,"FORBID_TAGS")?c({},e.FORBID_TAGS,_):{},_e=O(e,"FORBID_ATTR")?c({},e.FORBID_ATTR,_):{},F=O(e,"USE_PROFILES")?e.USE_PROFILES:!1,He=e.ALLOW_ARIA_ATTR!==!1,he=e.ALLOW_DATA_ATTR!==!1,ze=e.ALLOW_UNKNOWN_PROTOCOLS||!1,We=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,k=e.SAFE_FOR_TEMPLATES||!1,Te=e.SAFE_FOR_XML!==!1,v=e.WHOLE_DOCUMENT||!1,U=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Ee=e.FORCE_BODY||!1,Ge=e.SANITIZE_DOM!==!1,Be=e.SANITIZE_NAMED_PROPS||!1,Ae=e.KEEP_CONTENT!==!1,$=e.IN_PLACE||!1,ke=e.ALLOWED_URI_REGEXP||Lt,z=e.NAMESPACE||M,m=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&qe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(m.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&qe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(m.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(m.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),k&&(he=!1),te&&(U=!0),F&&(p=c({},_t),d=[],F.html===!0&&(c(p,dt),c(d,ht)),F.svg===!0&&(c(p,Ne),c(d,Oe),c(d,le)),F.svgFilters===!0&&(c(p,ye),c(d,Oe),c(d,le)),F.mathMl===!0&&(c(p,De),c(d,Tt),c(d,le))),e.ADD_TAGS&&(p===Ue&&(p=P(p)),c(p,e.ADD_TAGS,_)),e.ADD_ATTR&&(d===Fe&&(d=P(d)),c(d,e.ADD_ATTR,_)),e.ADD_URI_SAFE_ATTR&&c(Se,e.ADD_URI_SAFE_ATTR,_),e.FORBID_CONTENTS&&(H===Ye&&(H=P(H)),c(H,e.FORBID_CONTENTS,_)),Ae&&(p["#text"]=!0),v&&c(p,["html","head","body"]),p.table&&(c(p,["tbody"]),delete X.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw J('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw J('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=e.TRUSTED_TYPES_POLICY,j=E.createHTML("")}else E===void 0&&(E=dn(Q,u)),E!==null&&typeof j=="string"&&(j=E.createHTML(""));b&&b(e),W=e}},Ke=c({},["mi","mo","mn","ms","mtext"]),Ze=c({},["foreignobject","annotation-xml"]),jt=c({},["title","style","font","a","script"]),Je=c({},[...Ne,...ye,...nn]),Qe=c({},[...De,...on]),Xt=function(e){let t=Y(e);(!t||!t.tagName)&&(t={namespaceURI:z,tagName:"template"});const o=ce(e.tagName),l=ce(t.tagName);return Le[e.namespaceURI]?e.namespaceURI===ie?t.namespaceURI===M?o==="svg":t.namespaceURI===oe?o==="svg"&&(l==="annotation-xml"||Ke[l]):!!Je[o]:e.namespaceURI===oe?t.namespaceURI===M?o==="math":t.namespaceURI===ie?o==="math"&&Ze[l]:!!Qe[o]:e.namespaceURI===M?t.namespaceURI===ie&&!Ze[l]||t.namespaceURI===oe&&!Ke[l]?!1:!Qe[o]&&(jt[o]||!Je[o]):!!(V==="application/xhtml+xml"&&Le[e.namespaceURI]):!1},N=function(e){K(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch{e.remove()}},ae=function(e,t){try{K(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch{K(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),e==="is"&&!d[e])if(U||te)try{N(t)}catch{}else try{t.setAttribute(e,"")}catch{}},et=function(e){let t=null,o=null;if(Ee)e="<remove></remove>"+e;else{const h=mt(e,/^[\r\n\t ]+/);o=h&&h[0]}V==="application/xhtml+xml"&&z===M&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const l=E?E.createHTML(e):e;if(z===M)try{t=new Dt().parseFromString(l,V)}catch{}if(!t||!t.documentElement){t=fe.createDocument(z,"template",null);try{t.documentElement.innerHTML=be?j:l}catch{}}const g=t.body||t.documentElement;return e&&o&&g.insertBefore(a.createTextNode(o),g.childNodes[0]||null),z===M?xt.call(t,v?"html":"body")[0]:v?t.documentElement:g},tt=function(e){return Ct.call(e.ownerDocument||e,e,B.SHOW_ELEMENT|B.SHOW_COMMENT|B.SHOW_TEXT|B.SHOW_PROCESSING_INSTRUCTION|B.SHOW_CDATA_SECTION,null)},nt=function(e){return e instanceof yt&&(typeof e.__depth<"u"&&typeof e.__depth!="number"||typeof e.__removalCount<"u"&&typeof e.__removalCount!="number"||typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof Nt)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},ot=function(e){return typeof G=="function"&&e instanceof G},C=function(e,t,o){I[e]&&re(I[e],l=>{l.call(n,t,o,W)})},it=function(e){let t=null;if(C("beforeSanitizeElements",e,null),nt(e))return N(e),!0;const o=_(e.nodeName);if(C("uponSanitizeElement",e,{tagName:o,allowedTags:p}),e.hasChildNodes()&&!ot(e.firstElementChild)&&S(/<[/\w]/g,e.innerHTML)&&S(/<[/\w]/g,e.textContent)||e.nodeType===x.progressingInstruction||Te&&e.nodeType===x.comment&&S(/<[/\w]/g,e.data))return N(e),!0;if(!p[o]||X[o]){if(!X[o]&&rt(o)&&(m.tagNameCheck instanceof RegExp&&S(m.tagNameCheck,o)||m.tagNameCheck instanceof Function&&m.tagNameCheck(o)))return!1;if(Ae&&!H[o]){const l=Y(e)||e.parentNode,g=Mt(e)||e.childNodes;if(g&&l){const h=g.length;for(let L=h-1;L>=0;--L){const w=Ot(g[L],!0);w.__removalCount=(e.__removalCount||0)+1,l.insertBefore(w,It(e))}}}return N(e),!0}return e instanceof xe&&!Xt(e)||(o==="noscript"||o==="noembed"||o==="noframes")&&S(/<\/no(script|embed|frames)/i,e.innerHTML)?(N(e),!0):(k&&e.nodeType===x.text&&(t=e.textContent,re([me,pe,de],l=>{t=Z(t,l," ")}),e.textContent!==t&&(K(n.removed,{element:e.cloneNode()}),e.textContent=t)),C("afterSanitizeElements",e,null),!1)},at=function(e,t,o){if(Ge&&(t==="id"||t==="name")&&(o in a||o in Yt||o==="__depth"||o==="__removalCount"))return!1;if(!(he&&!_e[t]&&S(kt,t))){if(!(He&&S(Ut,t))){if(!d[t]||_e[t]){if(!(rt(e)&&(m.tagNameCheck instanceof RegExp&&S(m.tagNameCheck,e)||m.tagNameCheck instanceof Function&&m.tagNameCheck(e))&&(m.attributeNameCheck instanceof RegExp&&S(m.attributeNameCheck,t)||m.attributeNameCheck instanceof Function&&m.attributeNameCheck(t))||t==="is"&&m.allowCustomizedBuiltInElements&&(m.tagNameCheck instanceof RegExp&&S(m.tagNameCheck,o)||m.tagNameCheck instanceof Function&&m.tagNameCheck(o))))return!1}else if(!Se[t]){if(!S(ke,Z(o,Pe,""))){if(!((t==="src"||t==="xlink:href"||t==="href")&&e!=="script"&&Jt(o,"data:")===0&&je[e])){if(!(ze&&!S(Ft,Z(o,Pe,"")))){if(o)return!1}}}}}}return!0},rt=function(e){return e!=="annotation-xml"&&mt(e,Ht)},st=function(e){C("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:d};let l=t.length;for(;l--;){const g=t[l],{name:h,namespaceURI:L,value:w}=g,q=_(h);let A=h==="value"?w:Qt(w);if(o.attrName=q,o.attrValue=A,o.keepAttr=!0,o.forceKeepAttr=void 0,C("uponSanitizeAttribute",e,o),A=o.attrValue,o.forceKeepAttr||(ae(h,e),!o.keepAttr))continue;if(!We&&S(/\/>/i,A)){ae(h,e);continue}if(Te&&S(/((--!?|])>)|<\/(style|title)/i,A)){ae(h,e);continue}k&&re([me,pe,de],ct=>{A=Z(A,ct," ")});const lt=_(e.nodeName);if(at(lt,q,A)){if(Be&&(q==="id"||q==="name")&&(ae(h,e),A=zt+A),E&&typeof Q=="object"&&typeof Q.getAttributeType=="function"&&!L)switch(Q.getAttributeType(lt,q)){case"TrustedHTML":{A=E.createHTML(A);break}case"TrustedScriptURL":{A=E.createScriptURL(A);break}}try{L?e.setAttributeNS(L,h,A):e.setAttribute(h,A),nt(e)?N(e):ft(n.removed)}catch{}}}C("afterSanitizeAttributes",e,null)},$t=function r(e){let t=null;const o=tt(e);for(C("beforeSanitizeShadowDOM",e,null);t=o.nextNode();){if(C("uponSanitizeShadowNode",t,null),it(t))continue;const l=Y(t);t.nodeType===x.element&&(l&&l.__depth?t.__depth=(t.__removalCount||0)+l.__depth+1:t.__depth=1),(t.__depth>=Ve||t.__depth<0||pt(t.__depth))&&N(t),t.content instanceof T&&(t.content.__depth=t.__depth,r(t.content)),st(t)}C("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=null,o=null,l=null,g=null;if(be=!r,be&&(r="<!-->"),typeof r!="string"&&!ot(r))if(typeof r.toString=="function"){if(r=r.toString(),typeof r!="string")throw J("dirty is not a string, aborting")}else throw J("toString is not a function");if(!n.isSupported)return r;if(ge||we(e),n.removed=[],typeof r=="string"&&($=!1),$){if(r.nodeName){const w=_(r.nodeName);if(!p[w]||X[w])throw J("root node is forbidden and cannot be sanitized in-place")}}else if(r instanceof G)t=et("<!---->"),o=t.ownerDocument.importNode(r,!0),o.nodeType===x.element&&o.nodeName==="BODY"||o.nodeName==="HTML"?t=o:t.appendChild(o);else{if(!U&&!k&&!v&&r.indexOf("<")===-1)return E&&ne?E.createHTML(r):r;if(t=et(r),!t)return U?null:ne?j:""}t&&Ee&&N(t.firstChild);const h=tt($?r:t);for(;l=h.nextNode();){if(it(l))continue;const w=Y(l);l.nodeType===x.element&&(w&&w.__depth?l.__depth=(l.__removalCount||0)+w.__depth+1:l.__depth=1),(l.__depth>=Ve||l.__depth<0||pt(l.__depth))&&N(l),l.content instanceof T&&(l.content.__depth=l.__depth,$t(l.content)),st(l)}if($)return r;if(U){if(te)for(g=vt.call(t.ownerDocument);t.firstChild;)g.appendChild(t.firstChild);else g=t;return(d.shadowroot||d.shadowrootmode)&&(g=Pt.call(s,g,!0)),g}let L=v?t.outerHTML:t.innerHTML;return v&&p["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&S(wt,t.ownerDocument.doctype.name)&&(L="<!DOCTYPE "+t.ownerDocument.doctype.name+`>
`+L),k&&re([me,pe,de],w=>{L=Z(L,w," ")}),E&&ne?E.createHTML(L):L},n.setConfig=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};we(r),ge=!0},n.clearConfig=function(){W=null,ge=!1},n.isValidAttribute=function(r,e,t){W||we({});const o=_(r),l=_(e);return at(o,l,t)},n.addHook=function(r,e){typeof e=="function"&&(I[r]=I[r]||[],K(I[r],e))},n.removeHook=function(r){if(I[r])return ft(I[r])},n.removeHooks=function(r){I[r]&&(I[r]=[])},n.removeAllHooks=function(){I={}},n}var Et=Rt();const _n=i=>{const n=new Date(i);return Ie.fromJSDate(n).toFormat("dd LLL yyyy")};class hn extends ve{renderAuthor(){const{author:n,url:a}=this.props,s="/assets/images/avatar-default.jpg",u=n.photo?f("img",{className:"webmention__author__photo u-photo",src:s,"data-src":n.photo,alt:n.name,width:48,height:48,loading:"lazy"}):f("img",{className:"webmention__author__photo",src:s,width:48,height:48,alt:""});return n?f("a",{className:"webmention__author h-card u-url",href:a,target:"_blank",rel:"ugc nofollow",children:[u,f("strong",{className:"p-name",children:n.name})]}):f("span",{className:"webmention__author",children:[u,f("strong",{children:"Anonymous"})]})}render({id:n,author:a,published:s,content:u}){const T=["webmention"];return["https://mxb.at","https://mxb.dev","https://twitter.com/mxbck"].includes(a.url)&&T.push("webmention--own"),f("div",{className:T.join(" "),id:`webmention-${n}`,children:[f("div",{className:"webmention__meta",children:[this.renderAuthor(),f("span",{className:"webmention__meta__divider","aria-hidden":"true",children:"â‹…"}),f("time",{className:"webmention__pubdate dt-published",datetime:s,children:_n(s)})]}),f("div",{className:"webmention__content p-content",dangerouslySetInnerHTML:{__html:u.value}})]})}}class Tn extends ve{render({name:n}){const a=`/assets/icons/icons.sprite.svg#svg-${n}`;return f("svg",{className:`icon icon--${n}`,role:"img","aria-hidden":"true",width:24,height:24,children:f("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:a})})}}class gn extends ve{componentDidMount(){window.initLazyLoad&&typeof window.initLazyLoad=="function"&&window.initLazyLoad()}renderMentionsList(n){return f("ol",{className:"webmentions__list",children:n.map(a=>{const{"wm-id":s,url:u,author:T,published:D,content:G}=a;return f("li",{className:"webmentions__item",children:f(hn,{id:s,url:u,author:T,content:G,published:D})},s)})})}expandList(n){n.preventDefault();const a=document.getElementById("webmentions");a&&(a.classList.remove("webmentions--truncated"),a.classList.add("webmentions--expanded"))}render({webmentions:n}){if(!n.length)return f("p",{className:"webmentions__empty",children:"No webmentions yet."});const a=n.length>5;return f("div",{"data-rendered":!0,children:[f("div",{className:"webmentions__preview",children:this.renderMentionsList(n.slice(0,5))}),a&&f("div",{children:[f("a",{className:"webmentions__showall",href:"#webmentions",onClick:this.expandList,children:[f(Tn,{name:"message"}),"Show All Webmentions (",n.length,")"]}),f("div",{className:"webmentions__content",children:this.renderMentionsList(n.slice(5))})]})]})}}const En="https://webmention.io/api/mentions.jf2",An="https://mxb.dev",ue=document.getElementById("webmentions"),Sn=ue.querySelector("[data-render-root]"),At=ue.dataset.lastFetched,bn=()=>{const i=An+window.location.pathname,n=`${En}?per-page=1000&target=${i}`;return fetch(n).then(a=>a.json()).then(a=>a.children||[]).catch(a=>console.error(a))},Ln=i=>{const n=["in-reply-to","mention-of"],a=s=>{const{author:u,published:T,content:D}=s;return!!u&&!!u.name&&!!T&&!!D};return i.filter(s=>n.includes(s["wm-property"])).filter(a).sort((s,u)=>new Date(s.published)-new Date(u.published)).map(wn)},wn=i=>{const{html:n,text:a}=i.content,s={ALLOWED_TAGS:["b","i","em","strong","a"],ALLOWED_ATTR:["href"]};return n?i.content.value=n.length>2e3?`mentioned this in <a href="${i["wm-source"]}">${i["wm-source"]}</a>`:Et.sanitize(n,s):i.content.value=Et.sanitize(a,s),i};(function(){if(!ue)return!1;if(At){const i=Ie.utc();if(Ie.fromISO(At,{zone:"utc"}).plus({hours:24})>i)return!1}bn().then(i=>{const n=Ln(i);i.length&&Vt(f(gn,{webmentions:n}),ue,Sn)}).catch(i=>{console.error(i)})})();
